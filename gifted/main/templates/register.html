{% extends 'layout.html' %}

{% block title %}
register
{% endblock %}

{% block main %}
<div class="container">
    <form action="/register" method="post" oninput='passwordConfirm.setCustomValidity(passwordConfirm.value != password.value ? "Passwords do not match!" : "")'>
        <div class="form-group">
            {% if email %}
                <input autocomplete="off" class="form-control" name="username" placeholder="username (email)" type="text" value="{{ email }}">
            {% else %}
                <input autocomplete="off" class="form-control" name="username" placeholder="username (email)" type="text" aria-describedby="emailHelp" autofocus>
                <small id="emailHelp" class="form-text text-muted">This is your username</small>
            {% endif %}
        </div>
        <div class="form-group">
            {% if email %}
                <input class="form-control" name="password" placeholder="password" type="password" autofocus>
            {% else %}
                <input class="form-control" name="password" placeholder="password" type="password">
            {% endif %}
        </div>
        <div class="form-group">
            <input class="form-control" name="passwordConfirm" placeholder="confirm your password" type="password">
        </div>
        <div class="form-group">
            {% if code %}
                <input class="form-control" name="code" placeholder="code" type="text" value="{{ code }}" aria-describedby="codeHelp" readonly>
                <small id="codeHelp" class="form-text text-muted">This is your registration code, copied from your email</small>
            {% else %}
                <input class="form-control" name="code" placeholder="code" type="text" aria-describedby="noCodeHelp">
                <small id="noCodeHelp" class="form-text text-muted">This was sent to you via email</small>
            {% endif %}
        </div>
        <div class="form-group">
            <input class="form-control" name="firstName" placeholder="first name" type="text">
        </div>
        <div class="form-group">
            <input class="form-control" name="lastName" placeholder="last name" type="text">
        </div>
        <button class="btn btn-primary" type="submit">register</button>
    </form>
</div>
{% endblock %}